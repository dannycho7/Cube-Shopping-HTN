<script>
  function buyItem(price) {
    var dataParameter = {
      "amount_money": {
        "amount" : price.toString(),
        "currency_code" : "USD"
      },
      "callback_url" : "https://932167e4.ngrok.io/callback",
      "client_id" : "sq0idp-EPHo2mTlyHm_-Mm1ePY17g",
      "version": "1.3",
      "notes": "notes for the transaction",
      "options" : {
        "supported_tender_types" : ["CREDIT_CARD","CASH","OTHER","SQUARE_GIFT_CARD","CARD_ON_FILE"]
      }
    };
    window.location = "square-commerce-v1://payment/create?data=" + encodeURIComponent(JSON.stringify(dataParameter));
  }
</script>